<!DOCTYPE html>
<html ng-app="litApp">
<head>
    <title>Literature App</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="styles/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="styles/main.css" rel="stylesheet" type="text/css">
</head>
<body ng-controller="mainCtrl">
<div class="container">
    <!--Navigation Menu-->

    <!--Search Bar-->
    <div class="row">
        <div class="col-sm-10" id="search-box">
            <input ng-model="query"
                   class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2"
                   placeholder="Search a publisher ">
        </div>
    </div>
    <!--Publisher List-->
    <div class="row" ng-controller="congCtrl">
        <div class="col-sm-12">
            <h3>Publishers <small>Tap a name to select</small></h3>
        </div>
        <div class="col-sm-10 col-sm-offset-1 publishers-container interior-content-center">
            <div ng-repeat="user in data.users | filter:query | orderBy:[fname, lname]"
                 ng-init="userInit(user, language)"
                 class="col-xs-12 publishers-container">
                <!--Publisher Name-->
                <div class="col-xs-12  publisher-name" ng-click="nameSelected = true" ng-class="{hasPending: pendingPickup(user).length > 0}">
                    {{user.fname | uppercase}} {{ user.lname | uppercase}}
                </div>
                <!--Publisher Order // Hidden until name selected-->
                <div class="col-xs-12 primaryText interior-content-left order-details" ng-show="nameSelected">
                    <span class="col-xs-11 secondary-Text">
                        <span class="pull-right secondary-Text"><a href="">Customize Order</a></span>
                        <br>
                    </span>

                    <div class="row">
                        <br>
                        <span class="col-xs-12 secondary-Text "></span>
                        <div class="col-xs-12">
                            <h4>New Items:<small> Touch an item to remove it.</small></h4>

                            <div ng-repeat="item in getAllItems(user)">
                                <div ng-repeat="month in notReceived(item.months_received)"
                                     class="col-sm-5 interior-content-center itemBlock">

                                    <div ng-hide="removed" ng-click="removed=true">
                                        {{monthName(month)}}
                                        {{item.name}}
                                        ({{item.count}}) {{showLanguage(item.language)}}
                                    </div>
                                    <div ng-show="removed" ng-click="removed=false">
                                        Publisher received this item. Touch to undo.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <button class="col-xs-2 col-xs-offset-3 btn btn-default finished-btn"
                                ng-click="nameSelected=!nameSelected">Save</button>
                        <button class="col-xs-2 col-xs-offset-2 btn btn-default finished-btn"
                                ng-click="nameSelected=!nameSelected">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

<script src="vendor/angular.js" type="text/javascript"></script>
<script src="scripts/app.js" type="text/javascript"></script>
<script src="scripts/controllers.js" type="text/javascript"></script>
<script src="scripts/services.js" type="text/javascript"></script>
</body>
</html>